sequenceDiagram
    participant Pytest as Pytest runner
    participant BaseProc as base_proc fixture (postgresql_proc_factory)
    participant NoProc1 as seeded_noproc fixture
    participant NoProc2 as more_seeded_noproc fixture
    participant PgServer as PostgreSQL server
    participant TemplateDB as Template DB (seeded)
    participant LayeredDB as Layered DB (seeded)

    Pytest->>BaseProc: request base_proc
    BaseProc->>PgServer: start server
    BaseProc->>TemplateDB: init database & run load_schema
    BaseProc-->>Pytest: return PostgreSQLExecutor

    Pytest->>NoProc1: request seeded_noproc (depends_on=base_proc)
    NoProc1->>BaseProc: read connection/template info
    NoProc1->>LayeredDB: create layered DB / run load_data
    NoProc1-->>Pytest: return NoopExecutor

    Pytest->>NoProc2: request more_seeded_noproc (depends_on=seeded_noproc)
    NoProc2->>NoProc1: read connection/template info
    NoProc2->>LayeredDB: run load_more_data on layered DB
    NoProc2-->>Pytest: return NoopExecutor

    Pytest->>Pytest: validate tables and data across layers
